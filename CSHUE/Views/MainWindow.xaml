<Window x:Class="CSHUE.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="CSHUE"
        Height="450"
        Width="650"
        WindowStyle="None"
        BorderThickness="1"
        xmlns:fw="clr-namespace:SourceChord.FluentWPF;assembly=FluentWPF"
        xmlns:viewModels="clr-namespace:CSHUE.ViewModels"
        BorderBrush="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"
        MinWidth="722"
        MinHeight="322"
        SourceInitialized="Window_SourceInitialized"
        Activated="Window_Activated"
        Deactivated="Window_Deactivated"
        fw:AcrylicWindow.Enabled="True"
        fw:AcrylicWindow.AcrylicWindowStyle="None"
        FontSize="14"
        AllowsTransparency="True"
        ResizeMode="CanResize"
        Background="Transparent"
        fw:PointerTracker.Enabled="False"
        d:DesignHeight="322"
        d:DesignWidth="722"
        Foreground="{DynamicResource SystemBaseHighColorBrush}"
        Closing="Window_Closing"
        FontFamily="Segoe UI Semilight"
        WindowState="{Binding WindowState, Mode=TwoWay}"
        d:DataContext="{d:DesignInstance Type=viewModels:MainWindowViewModel}"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        Initialized="MainWindow_OnInitialized">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32" />
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <Path x:Key="MaximizeRestorePath"
              Data="M 0.5 0.5 L 9.5 0.5 M 0.5 0.5 L 0.5 9.5 M 0.5 9.5 L 9.5 9.5 M 9.5 0.5 L 9.5 9.5"/>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Grid x:Name="Menus">
            <Grid.Background>
                <SolidColorBrush Color="{Binding BackgroundColor}" />
            </Grid.Background>
            <StackPanel>
                <Grid Height="32">
                    <TextBlock Text="CSHUE"
                               VerticalAlignment="Center"
                               FontSize="15"
                               Margin="12 0 0 0" />
                </Grid>
                
                <Grid Height="16" />

                <Grid x:Name="Home"
                      Height="48"
                      MouseLeftButtonDown="Control_MouseLeftButtonDown"
                      MouseLeftButtonUp="Control_MouseLeftButtonUp"
                      Style="{DynamicResource CustomMenu}">
                    <StackPanel Orientation="Horizontal">
                        <Grid x:Name="HomeIndicator"
                              HorizontalAlignment="Left"
                              Height="24"
                              Width="4"
                              Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}" />
                        <Path Data="M 0,7.5 L 7,0.5 L 14,7.5 M 1.5,6 V 13 H 5.5 V 8 H 8.5 V 13 H 12.5 V 6"
                              Stroke="{Binding (Window.Foreground), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Margin="14"/>
                        <TextBlock Text="{Binding Path=Home, Source={StaticResource Resources}}"
                                   Margin="2,0,0,0"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                    <Grid Background="Transparent"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Center"
                          ToolTipService.InitialShowDelay="100"
                          ToolTipService.HorizontalOffset="-50"
                          ToolTipService.HasDropShadow="True"
                          ToolTipService.ShowDuration="3000"
                          Visibility="{Binding InProcess}"
                          Margin="14">
                        <Grid.ToolTip>
                            <ToolTip Background="{DynamicResource SystemAltHighColorBrush}">
                                <Label Content="{Binding Path=WarningNotConnected, Source={StaticResource Resources}}"
                                       Foreground="{DynamicResource SystemBaseHighColorBrush}"/>
                            </ToolTip>
                        </Grid.ToolTip>
                        <Path Data="M 8.1,0 A 8,8 0 1 1 7.9,0 Z M 7.5,11 V 13 M 8.5,11 V 13 M 7.5,3 V 9 M 8.5,3 V 9"
                              Stroke="Orange"/>
                    </Grid>
                </Grid>

                <Grid x:Name="Config"
                      Height="48"
                      MouseLeftButtonDown="Control_MouseLeftButtonDown"
                      MouseLeftButtonUp="Control_MouseLeftButtonUp"
                      Style="{DynamicResource CustomMenu}">
                    <StackPanel Orientation="Horizontal">
                        <Grid x:Name="ConfigIndicator"
                              HorizontalAlignment="Left"
                              Height="24"
                              Width="4"
                              Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"
                              Visibility="Hidden" />
                        <Path Data="M 0,3 L 3,6 A 4,4 0 0 0 6,3 L 3,0 A 3.7,3.7 0 0 1 8,5 L 15,13 L 13,15 L 5,8 A 3.7,3.7 0 0 1 0,3 Z "
                              Stroke="{Binding (Window.Foreground), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Margin="14"/>
                        <TextBlock Text="{Binding Path=CSGOGSI, Source={StaticResource Resources}}"
                                   Margin="2,0,0,0"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    <Grid Background="Transparent"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Center"
                          ToolTipService.InitialShowDelay="100"
                          ToolTipService.HorizontalOffset="-50"
                          ToolTipService.HasDropShadow="True"
                          ToolTipService.ShowDuration="3000"
                          Visibility="{Binding WarningCsgoVisibility}"
                          Margin="14">
                        <Grid.ToolTip>
                            <ToolTip Background="{DynamicResource SystemAltHighColorBrush}">
                                <Label Content="{Binding Path=WarningCSGO, Source={StaticResource Resources}}"
                                       Foreground="{DynamicResource SystemBaseHighColorBrush}"/>
                            </ToolTip>
                        </Grid.ToolTip>
                        <Path Data="M 8.1,0 A 8,8 0 1 1 7.9,0 Z M 7.5,11 V 13 M 8.5,11 V 13 M 7.5,3 V 9 M 8.5,3 V 9"
                              Stroke="Orange"/>
                    </Grid>
                    <Grid Background="Transparent"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Center"
                          ToolTipService.InitialShowDelay="100"
                          ToolTipService.HorizontalOffset="-50"
                          ToolTipService.HasDropShadow="True"
                          ToolTipService.ShowDuration="3000"
                          Visibility="{Binding WarningGsiVisibility}"
                          Margin="14">
                        <Grid.ToolTip>
                            <ToolTip Background="{DynamicResource SystemAltHighColorBrush}">
                                <Label Content="{Binding Path=WarningGSI, Source={StaticResource Resources}}"
                                       Foreground="{DynamicResource SystemBaseHighColorBrush}"/>
                            </ToolTip>
                        </Grid.ToolTip>
                        <Path Data="M 8.1,0 A 8,8 0 1 1 7.9,0 Z M 7.5,11 V 13 M 8.5,11 V 13 M 7.5,3 V 9 M 8.5,3 V 9"
                              Stroke="Orange"/>
                    </Grid>
                    <Grid Background="Transparent"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Center"
                          ToolTipService.InitialShowDelay="100"
                          ToolTipService.HorizontalOffset="-50"
                          ToolTipService.HasDropShadow="True"
                          ToolTipService.ShowDuration="3000"
                          Visibility="{Binding WarningGsiCorruptedVisibility}"
                          Margin="14">
                        <Grid.ToolTip>
                            <ToolTip Background="{DynamicResource SystemAltHighColorBrush}">
                                <Label Content="{Binding Path=WarningGSICorrupted, Source={StaticResource Resources}}"
                                       Foreground="{DynamicResource SystemBaseHighColorBrush}"/>
                            </ToolTip>
                        </Grid.ToolTip>
                        <Path Data="M 8.1,0 A 8,8 0 1 1 7.9,0 Z M 7.5,11 V 13 M 8.5,11 V 13 M 7.5,3 V 9 M 8.5,3 V 9"
                              Stroke="Orange" />
                    </Grid>
                    <Grid Background="Transparent"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Center"
                          ToolTipService.InitialShowDelay="100"
                          ToolTipService.HorizontalOffset="-50"
                          ToolTipService.HasDropShadow="True"
                          ToolTipService.ShowDuration="3000"
                          Visibility="{Binding WarningSteamVisibility}"
                          Margin="14">
                        <Grid.ToolTip>
                            <ToolTip Background="{DynamicResource SystemAltHighColorBrush}">
                                <Label Content="{Binding Path=WarningSteam, Source={StaticResource Resources}}"
                                       Foreground="{DynamicResource SystemBaseHighColorBrush}"/>
                            </ToolTip>
                        </Grid.ToolTip>
                        <Path Data="M 8.1,0 A 8,8 0 1 1 7.9,0 Z M 7.5,11 V 13 M 8.5,11 V 13 M 7.5,3 V 9 M 8.5,3 V 9"
                              Stroke="Orange"/>
                    </Grid>
                </Grid>
            </StackPanel>

            <StackPanel VerticalAlignment="Bottom">
                <Grid x:Name="Donate"
                      Height="48"
                      MouseLeftButtonDown="Control_MouseLeftButtonDown"
                      MouseLeftButtonUp="Control_MouseLeftButtonUp"
                      Style="{DynamicResource CustomMenu}">
                    <StackPanel Orientation="Horizontal">
                        <Grid x:Name="DonateIndicator"
                              HorizontalAlignment="Left"
                              Height="24"
                              Width="4"
                              Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"
                              Visibility="Hidden" />
                        <Path Data="M 3,0 H 16 V 4 H 13 M 13,0 V 7 A 2,2 0 0 1 11,9 H 5 A 2,2 0 0 1 3,7 V 0 Z M 2,12 H 14"
                              Stroke="Gray"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Margin="14"/>
                        <TextBlock Foreground="Gray"
                                   Text="{Binding Path=Donate, Source={StaticResource Resources}}"
                                   Margin="2,0,0,0"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>

                <Grid x:Name="About"
                      Height="48"
                      MouseLeftButtonDown="Control_MouseLeftButtonDown"
                      MouseLeftButtonUp="Control_MouseLeftButtonUp"
                      Style="{DynamicResource CustomMenu}">
                    <StackPanel Orientation="Horizontal">
                        <Grid x:Name="AboutIndicator"
                              HorizontalAlignment="Left"
                              Height="24"
                              Width="4"
                              Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"
                              Visibility="Hidden"/>
                        <Path Data="M 8.1,0 A 8,8 0 1 1 7.9,0 Z M 7.5,7 V 13 M 8.5,7 V 13 M 7.5,3 V 5 M 8.5,3 V 5"
                              Stroke="Gray"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Margin="14"/>
                        <TextBlock Foreground="Gray"
                                   Text="{Binding Path=About, Source={StaticResource Resources}}"
                                   Margin="2,0,0,0"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>

                <Grid x:Name="Settings"
                      Height="48"
                      MouseLeftButtonDown="Control_MouseLeftButtonDown"
                      MouseLeftButtonUp="Control_MouseLeftButtonUp"
                      Style="{DynamicResource CustomMenu}">
                    <StackPanel Orientation="Horizontal">
                        <Grid x:Name="SettingsIndicator"
                              HorizontalAlignment="Left"
                              Height="24"
                              Width="4"
                              Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"
                              Visibility="Hidden"/>
                        <Path Data="M 5.88471168242,-1.17 L 7.73247,-1.93536686473 L 6.83657673884,-4.09878826285 L 4.98881767382,-3.33342139812 A 6,6 0 0 0 3.33342139812,-4.98881767382 L 4.09878826285,-6.83657673884 L 1.93536686473,-7.73247 L 1.17,-5.88471168242 A 6,6 0 0 0 -1.1705419321,-5.88471168242 L -1.93536686473,-7.73247 L -4.09878826285,-6.83657673884 L -3.33342139812,-4.98881767382 A 6,6 0 0 0 -4.98881767382,-3.33342139812 L -6.83657673884,-4.09878826285 L -7.73247,-1.93536686473 L -5.88471168242,-1.1705419321 A 6,6 0 0 0 -5.88471168242,1.17 L -7.73247,1.93536686473 L -6.83657673884,4.09878826285 L -4.98881767382,3.33342139812 A 6,6 0 0 0 -3.33342139812,4.98881767382 L -4.09878826285,6.83657673884 L -1.93536686473,7.73247 L -1.1705419321,5.88471168242 A 6,6 0 0 0 1.17,5.88471168242 L 1.93536686473,7.73247 L 4.09878826285,6.83657673884 L 3.33342139812,4.98881767382 A 6,6 0 0 0 4.98881767382,3.33342139812 L 6.83657673884,4.09878826285 L 7.73247,1.93536686473 L 5.88471168242,1.17 A 6,6 0 0 0 5.88471168242,-1.17 Z M 0.1,-3 A 3,3 0 1 1 -0.1,-3 Z"
                              Stroke="{Binding (Window.Foreground), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                              Width="16"
                              Height="16"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Stretch="Uniform"
                              Margin="14"/>
                        <TextBlock Text="{Binding Path=Settings, Source={StaticResource Resources}}"
                                   Margin="2,0,0,0"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Grid>

        <Grid Background="{DynamicResource SystemAltHighColorBrush}"
              Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="48" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="46" />
                    <ColumnDefinition Width="46" />
                    <ColumnDefinition Width="46" />
                </Grid.ColumnDefinitions>

                <Grid WindowChrome.IsHitTestVisibleInChrome="True"
                      x:Name="MinimizeButton"
                      Height="32"
                      MouseLeftButtonDown="TopControls_MouseLeftButtonDown"
                      MouseLeftButtonUp="TopControls_MouseLeftButtonUp"
                      Grid.Column="1"
                      VerticalAlignment="Top"
                      Background="Transparent">
                    <Path HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          SnapsToDevicePixels="False"
                          StrokeThickness="1"
                          Stroke="{DynamicResource SystemBaseHighColorBrush}"
                          Data="M 0 1.1 L 10 1.1"/>
                </Grid>

                <Grid WindowChrome.IsHitTestVisibleInChrome="True"
                      x:Name="MaximizeButton"
                      Height="32"
                      MouseLeftButtonDown="TopControls_MouseLeftButtonDown"
                      MouseLeftButtonUp="TopControls_MouseLeftButtonUp"
                      Grid.Column="2"
                      VerticalAlignment="Top"
                      Background="Transparent">
                    <Path HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          SnapsToDevicePixels="False"
                          StrokeThickness="1"
                          Stroke="{DynamicResource SystemBaseHighColorBrush}"
                          Data="{Binding Source={StaticResource MaximizeRestorePath}, Path=Data}"/>
                </Grid>

                <Grid WindowChrome.IsHitTestVisibleInChrome="True"
                      x:Name="CloseButton"
                      Height="32"
                      MouseLeftButtonDown="TopControls_MouseLeftButtonDown"
                      MouseLeftButtonUp="TopControls_MouseLeftButtonUp"
                      Grid.Column="3"
                      VerticalAlignment="Top"
                      Background="Transparent">
                    <Path HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          SnapsToDevicePixels="False"
                          StrokeThickness="1"
                          Stroke="{DynamicResource SystemBaseHighColorBrush}"
                          Data="M 0 0 L 10 10 M 0 10 L 10 0"/>
                </Grid>
            </Grid>

            <Frame x:Name="Page"
                   Grid.Row="1"
                   NavigationUIVisibility="Hidden"/>
        </Grid>

        <tb:TaskbarIcon
            Grid.Column="0"
            x:Name="NotifyIcon"
            Visibility="{Binding NotifyIconVisibility}"
            ToolTipText="CSHUE"
            IconSource="/icon.ico"
            MenuActivation="LeftOrRightClick"
            TrayMouseDoubleClick="NotifyIcon_TrayMouseDoubleClick">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu Background="{DynamicResource SystemAltHighColorBrush}"
                             BorderBrush="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"
                             Foreground="{DynamicResource SystemBaseHighColorBrush}"
                             Style="{DynamicResource CustomContextMenu}"
                             Opened="ContextMenu_Opened">
                    <MenuItem Header="{Binding Path=Home, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItemAlertHome}"
                              Click="MenuNavigate_Click"
                              Tag="Home"/>

                    <MenuItem Header="{Binding Path=CSGOGSI, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItemAlertConfig}"
                              Click="MenuNavigate_Click"
                              Tag="Config"/>

                    <MenuItem Header="{Binding Path=Donate, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItem}"
                              Click="MenuNavigate_Click"
                              Tag="Donate"/>

                    <MenuItem Header="{Binding Path=About, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItem}"
                              Click="MenuNavigate_Click"
                              Tag="About"/>

                    <MenuItem Header="{Binding Path=Settings, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItem}"
                              Click="MenuNavigate_Click"
                              Tag="Settings"/>

                    <Separator Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"/>

                    <MenuItem Header="{Binding Path=RunCsgo, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItem}"
                              Click="RunCsgo_Click"
                              Tag="Settings"/>

                    <Separator Background="{Binding Path=(fw:AccentColors.ImmersiveSystemAccentBrush)}"/>

                    <MenuItem Header="{Binding Path=Exit, Source={StaticResource Resources}}"
                              Style="{DynamicResource CustomMenuItem}"
                              Click="MenuExit_Click"/>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Grid>
</Window>
